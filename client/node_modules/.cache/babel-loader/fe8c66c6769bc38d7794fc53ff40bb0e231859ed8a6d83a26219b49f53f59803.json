{"ast":null,"code":"import React,{useState}from\"react\";// Import React and useState\nimport axios from\"axios\";// Import axios for HTTP requests\nimport{useNavigate}from\"react-router-dom\";// Import useNavigate for routing\nimport minimalist2 from\"../assets/minimalist2.jpg\";// Import image paths\nimport minimalist3 from\"../assets/minimalist3.jpg\";// Import image paths\n// Main component\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Personal_1_login=()=>{const[username,setUsername]=useState(\"\");// State to store username\nconst[password,setPassword]=useState(\"\");// State to store password\nconst[alertMessage,setAlertMessage]=useState(\"\");// State to store alert message\nconst[alertType,setAlertType]=useState(\"\");// State to store alert type (error/success)\nconst[shake,setShake]=useState(false);// State to trigger shake animation\nconst navigate=useNavigate();// Hook to navigate to different routes\n// Form submission handler\nconst onSubmit=async event=>{event.preventDefault();try{// Make an API call to the login endpoint\nconst result=await axios.post(\"/auth/personal1-login\",{username,password});// Store the user ID in localStorage and navigate to the dashboard\nwindow.localStorage.setItem(\"userID\",result.data.userID);navigate(\"/Fetchalldata1proc\");// Show success message\nsetAlertMessage(\"Logged in successfully\");setAlertType(\"success\");}catch(error){// Show error message and trigger shake animation\nsetAlertMessage(\"Incorrect credentials\");setAlertType(\"error\");setShake(true);// Remove the shake class after animation ends\nsetTimeout(()=>setShake(false),500);console.error(error);}};// Navigate to the registration page\nconst navigateToRegister=()=>{navigate(\"/register\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"useru-logo\",src:minimalist2,alt:\"Logo 1\"}),/*#__PURE__*/_jsx(\"img\",{className:\"userp-logo\",src:minimalist3,alt:\"Logo 2\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,className:shake?\"shake\":\"\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"login-name\",children:\"Personal 1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",placeholder:\"Username\",value:username,onChange:event=>setUsername(event.target.value)// Update username state\n})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",placeholder:\"Password\",value:password,onChange:event=>setPassword(event.target.value)// Update password state\n})}),/*#__PURE__*/_jsx(\"img\",{src:require('../assets/login.png'),alt:\"Submit\",className:\"submit-img\",onClick:onSubmit})]}),/*#__PURE__*/_jsx(\"button\",{className:\"change\",onClick:navigateToRegister,children:\"\\u2A2D\"})]});};export default Personal_1_login;// const Personal_1_login = () => {\n//   const [username, setUsername] = useState(\"\");\n//   const [password, setPassword] = useState(\"\");\n//   const [alertMessage, setAlertMessage] = useState(\"\");\n//   const [alertType, setAlertType] = useState(\"\");\n//   const [shake, setShake] = useState(false); // State to trigger shake animation\n//   const navigate = useNavigate();\n//   const onSubmit = async (event) => {\n//     event.preventDefault();\n//     try {\n//       const result = await axios.post(\"/auth/personal1-login\", {\n//         username,\n//         password,\n//       });\n//       window.localStorage.setItem(\"userID\", result.data.userID);\n//       navigate(\"/Fetchalldata1proc\");\n//       setAlertMessage(\"Logged in successfully\");\n//       setAlertType(\"success\");\n//     } catch (error) {\n//       setAlertMessage(\"Incorrect credentials\");\n//       setAlertType(\"error\");\n//       setShake(true); // Trigger shake animation\n//       // Remove the shake class after animation ends\n//       setTimeout(() => setShake(false), 500);\n//       console.error(error);\n//     }\n//   };\n//   const navigateToRegister = () => {\n//     navigate(\"/register\");\n//   };\n//   return (\n//     <div className=\"login\">\n//       <img className=\"useru-logo\" src={minimalist2} alt=\"\" />\n//       <img className=\"userp-logo\" src={minimalist3} alt=\"\" />\n//       <form onSubmit={onSubmit} className={shake ? \"shake\" : \"\"}>\n//         <h4 className=\"login-name\">Personal 1</h4>\n//         <div className=\"form-group\">\n//           <input\n//             type=\"text\"\n//             id=\"username\"\n//             placeholder=\"Username\"\n//             value={username}\n//             onChange={(event) => setUsername(event.target.value)}\n//           />\n//         </div>\n//         <div className=\"form-group\">\n//           <input\n//             type=\"password\"\n//             id=\"password\"\n//             placeholder=\"Password\"\n//             value={password}\n//             onChange={(event) => setPassword(event.target.value)}\n//           />\n//         </div>\n//         <img \n//           src={require('../assets/login.png')} \n//           alt=\"Submit\" \n//           className=\"submit-img\" \n//           onClick={onSubmit} \n//         />\n//       </form>\n//       <button className=\"change\" onClick={navigateToRegister}>\n//         тин\n//       </button>\n//       {alertMessage && (\n//         <div className={`alert-all ${alertType} slideIn`}>\n//           {alertMessage} <br />\n//           <button className=\"close\" onClick={() => setAlertMessage(false)}>\n//             Close\n//           </button>\n//         </div>\n//       )}\n//     </div>\n//   );\n// };","map":{"version":3,"names":["React","useState","axios","useNavigate","minimalist2","minimalist3","jsx","_jsx","jsxs","_jsxs","Personal_1_login","username","setUsername","password","setPassword","alertMessage","setAlertMessage","alertType","setAlertType","shake","setShake","navigate","onSubmit","event","preventDefault","result","post","window","localStorage","setItem","data","userID","error","setTimeout","console","navigateToRegister","className","children","src","alt","type","id","placeholder","value","onChange","target","require","onClick"],"sources":["/home/dev/Environments/DMS/DMS/client/src/Personal-1/Personal-1-login.js"],"sourcesContent":["import React, { useState } from \"react\";  // Import React and useState\nimport axios from \"axios\";  // Import axios for HTTP requests\nimport { useNavigate } from \"react-router-dom\";  // Import useNavigate for routing\nimport minimalist2 from \"../assets/minimalist2.jpg\";  // Import image paths\nimport minimalist3 from \"../assets/minimalist3.jpg\";  // Import image paths\n\n// Main component\nconst Personal_1_login = () => {\n  const [username, setUsername] = useState(\"\");  // State to store username\n  const [password, setPassword] = useState(\"\");  // State to store password\n  const [alertMessage, setAlertMessage] = useState(\"\");  // State to store alert message\n  const [alertType, setAlertType] = useState(\"\");  // State to store alert type (error/success)\n  const [shake, setShake] = useState(false);  // State to trigger shake animation\n\n  const navigate = useNavigate();  // Hook to navigate to different routes\n\n  // Form submission handler\n  const onSubmit = async (event) => {\n    event.preventDefault();\n\n    try {\n      // Make an API call to the login endpoint\n      const result = await axios.post(\"/auth/personal1-login\", {\n        username,\n        password,\n      });\n\n      // Store the user ID in localStorage and navigate to the dashboard\n      window.localStorage.setItem(\"userID\", result.data.userID);\n      navigate(\"/Fetchalldata1proc\");\n\n      // Show success message\n      setAlertMessage(\"Logged in successfully\");\n      setAlertType(\"success\");\n    } catch (error) {\n      // Show error message and trigger shake animation\n      setAlertMessage(\"Incorrect credentials\");\n      setAlertType(\"error\");\n      setShake(true);\n\n      // Remove the shake class after animation ends\n      setTimeout(() => setShake(false), 500);\n\n      console.error(error);\n    }\n  };\n\n  // Navigate to the registration page\n  const navigateToRegister = () => {\n    navigate(\"/register\");\n  };\n\n  return (\n    <div className=\"login\">\n      <img className=\"useru-logo\" src={minimalist2} alt=\"Logo 1\" />\n      <img className=\"userp-logo\" src={minimalist3} alt=\"Logo 2\" />\n\n      {/* Alert Message outside the form\n      {alertMessage && (\n        <div className={`alert-all ${alertType} slideIn`}>\n          {alertMessage} <br />\n          <button className=\"close\" onClick={() => setAlertMessage(\"\")}>\n            Close\n          </button>\n        </div>\n      )} */}\n\n\n      {/* Form for login */}\n      <form onSubmit={onSubmit} className={shake ? \"shake\" : \"\"}>\n        <h4 className=\"login-name\">Personal 1</h4>\n\n        <div className=\"form-group\">\n          <input\n            type=\"text\"\n            id=\"username\"\n            placeholder=\"Username\"\n            value={username}\n            onChange={(event) => setUsername(event.target.value)}  // Update username state\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <input\n            type=\"password\"\n            id=\"password\"\n            placeholder=\"Password\"\n            value={password}\n            onChange={(event) => setPassword(event.target.value)}  // Update password state\n          />\n        </div>\n\n        {/* Submit image button */}\n        <img \n          src={require('../assets/login.png')} \n          alt=\"Submit\" \n          className=\"submit-img\" \n          onClick={onSubmit} \n        />\n      </form>\n\n      {/* Circular button to navigate to the register page */}\n      <button className=\"change\" onClick={navigateToRegister}>\n        тин\n      </button>\n    </div>\n  );\n};\n\nexport default Personal_1_login;\n\n\n\n\n// const Personal_1_login = () => {\n//   const [username, setUsername] = useState(\"\");\n//   const [password, setPassword] = useState(\"\");\n//   const [alertMessage, setAlertMessage] = useState(\"\");\n//   const [alertType, setAlertType] = useState(\"\");\n//   const [shake, setShake] = useState(false); // State to trigger shake animation\n\n//   const navigate = useNavigate();\n\n//   const onSubmit = async (event) => {\n//     event.preventDefault();\n\n//     try {\n//       const result = await axios.post(\"/auth/personal1-login\", {\n//         username,\n//         password,\n//       });\n\n//       window.localStorage.setItem(\"userID\", result.data.userID);\n//       navigate(\"/Fetchalldata1proc\");\n\n//       setAlertMessage(\"Logged in successfully\");\n//       setAlertType(\"success\");\n//     } catch (error) {\n//       setAlertMessage(\"Incorrect credentials\");\n//       setAlertType(\"error\");\n//       setShake(true); // Trigger shake animation\n\n//       // Remove the shake class after animation ends\n//       setTimeout(() => setShake(false), 500);\n\n//       console.error(error);\n//     }\n//   };\n\n//   const navigateToRegister = () => {\n//     navigate(\"/register\");\n//   };\n\n//   return (\n//     <div className=\"login\">\n//       <img className=\"useru-logo\" src={minimalist2} alt=\"\" />\n//       <img className=\"userp-logo\" src={minimalist3} alt=\"\" />\n//       <form onSubmit={onSubmit} className={shake ? \"shake\" : \"\"}>\n//         <h4 className=\"login-name\">Personal 1</h4>\n//         <div className=\"form-group\">\n//           <input\n//             type=\"text\"\n//             id=\"username\"\n//             placeholder=\"Username\"\n//             value={username}\n//             onChange={(event) => setUsername(event.target.value)}\n//           />\n//         </div>\n//         <div className=\"form-group\">\n//           <input\n//             type=\"password\"\n//             id=\"password\"\n//             placeholder=\"Password\"\n//             value={password}\n//             onChange={(event) => setPassword(event.target.value)}\n//           />\n//         </div>\n//         <img \n//           src={require('../assets/login.png')} \n//           alt=\"Submit\" \n//           className=\"submit-img\" \n//           onClick={onSubmit} \n//         />\n//       </form>\n\n//       <button className=\"change\" onClick={navigateToRegister}>\n//         тин\n//       </button>\n\n//       {alertMessage && (\n//         <div className={`alert-all ${alertType} slideIn`}>\n//           {alertMessage} <br />\n//           <button className=\"close\" onClick={() => setAlertMessage(false)}>\n//             Close\n//           </button>\n//         </div>\n//       )}\n//     </div>\n//   );\n// };\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}