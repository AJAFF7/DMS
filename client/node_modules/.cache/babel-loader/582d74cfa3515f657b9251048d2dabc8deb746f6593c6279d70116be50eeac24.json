{"ast":null,"code":"import React,{useEffect,useRef}from'react';import{Chart}from'chart.js';import{jsx as _jsx}from\"react/jsx-runtime\";const BarChart=_ref=>{let{data}=_ref;const chartContainer=useRef(null);const chartInstance=useRef(null);useEffect(()=>{if(chartInstance.current){chartInstance.current.destroy();// Destroy the existing chart instance\n}if(data&&data.length>0){const ctx=chartContainer.current.getContext('2d');chartInstance.current=new Chart(ctx,{type:'line',//doughnut\ndata:{labels:data.map(item=>item.pername),datasets:[// {\n//   label: 'Quantity',\n//   data: data.map((item) => item.quantity), \n//   backgroundColor: 'orange',\n//   borderColor: 'orange', \n//   borderWidth: 0.7,\n// },\n// {\n//   label: 'Price',\n//   data: data.map((item) => item.price), \n//   backgroundColor: 'blue',  \n//   borderColor: 'blue', \n//   borderWidth: 0.7,\n// },\n// {\n//   label: 'Dameg',\n//   data: data.map((item) => item.dameg), \n//   backgroundColor: 'red',\n//   borderColor: 'red', \n//   borderWidth: 0.7,\n// },\n{label:'Quantity',data:data.map(item=>item.quantity),backgroundColor:'rgba(255, 162, 0, 0.6)',borderColor:'rgba(255, 162, 0)',borderWidth:1,// 0.7\npointBackgroundColor:'black'},{label:'Price',data:data.map(item=>item.price),backgroundColor:'rgba(54, 162, 235, 0.6)',borderColor:'rgba(54, 162, 235)',borderWidth:1,// 0.7\npointBackgroundColor:'black'},{label:'Dameg',data:data.map(item=>item.dameg),backgroundColor:'rgba(236, 64, 64, 0.6)',borderColor:'rgba(236, 64, 64 )',borderWidth:1,// 0.7\npointBackgroundColor:'black'}]},options:{scales:{y:{beginAtZero:true},x:{ticks:{callback:function(value,index,values){const timestamp=data[index].timestamp;if(!isNaN(timestamp)){const date=new Date(timestamp);return date.toLocaleString();// Customize date format if needed\n}return'';}}}},layout:{padding:{left:50,// Adjust the padding as needed\nright:50,top:20,bottom:20}},responsive:true,maintainAspectRatio:true,aspectRatio:3// Adjust aspect ratio as needed\n}});chartContainer.current.width=100;// Adjust width as needed\nchartContainer.current.height=100;// Adjust height as needed\n}},[data]);return/*#__PURE__*/_jsx(\"canvas\",{ref:chartContainer});};export default BarChart;","map":{"version":3,"names":["React","useEffect","useRef","Chart","jsx","_jsx","BarChart","_ref","data","chartContainer","chartInstance","current","destroy","length","ctx","getContext","type","labels","map","item","pername","datasets","label","quantity","backgroundColor","borderColor","borderWidth","pointBackgroundColor","price","dameg","options","scales","y","beginAtZero","x","ticks","callback","value","index","values","timestamp","isNaN","date","Date","toLocaleString","layout","padding","left","right","top","bottom","responsive","maintainAspectRatio","aspectRatio","width","height","ref"],"sources":["/home/dev/Environments/DMS/DMS/client/src/Personal-1/BarChart.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { Chart } from 'chart.js';\n\n\n\n    const BarChart = ({ data }) => {\n      const chartContainer = useRef(null);\n      const chartInstance = useRef(null);\n      useEffect(() => {\n        if (chartInstance.current) {\n          chartInstance.current.destroy(); // Destroy the existing chart instance\n        }\n\n \n    if (data && data.length > 0) {\n      const ctx = chartContainer.current.getContext('2d');\n      chartInstance.current =new Chart(ctx, {\n        type: 'line', //doughnut\n        data: {\n          labels: data.map((item) => item.pername), \n        \n          datasets: [\n            // {\n            //   label: 'Quantity',\n            //   data: data.map((item) => item.quantity), \n            //   backgroundColor: 'orange',\n            //   borderColor: 'orange', \n            //   borderWidth: 0.7,\n\n\n            // },\n            // {\n            //   label: 'Price',\n            //   data: data.map((item) => item.price), \n            //   backgroundColor: 'blue',  \n            //   borderColor: 'blue', \n            //   borderWidth: 0.7,\n            // },\n            // {\n            //   label: 'Dameg',\n            //   data: data.map((item) => item.dameg), \n            //   backgroundColor: 'red',\n            //   borderColor: 'red', \n            //   borderWidth: 0.7,\n            // },\n            \n\n            {\n              label: 'Quantity',\n              data: data.map((item) => item.quantity),\n              backgroundColor: 'rgba(255, 162, 0, 0.6)',\n              borderColor: 'rgba(255, 162, 0)',\n              borderWidth: 1, // 0.7\n              pointBackgroundColor: 'black',\n            },\n            {\n              label: 'Price',\n              data: data.map((item) => item.price),\n              backgroundColor: 'rgba(54, 162, 235, 0.6)',\n              borderColor: 'rgba(54, 162, 235)',\n              borderWidth: 1, // 0.7\n              pointBackgroundColor: 'black',\n            },\n            {\n              label: 'Dameg',\n              data: data.map((item) => item.dameg),\n              backgroundColor:  'rgba(236, 64, 64, 0.6)',\n              borderColor: 'rgba(236, 64, 64 )',\n              borderWidth: 1, // 0.7\n              pointBackgroundColor: 'black',\n            },\n\n\n          ],\n        \n          \n\n   \n\n\n\n\n        },\n        options: {\n    \n\n       \n\n      scales: {\n        y: {\n            beginAtZero: true,\n           \n        },\n        x: {\n          ticks: {\n         \n            callback: function (value, index, values) {\n              const timestamp = data[index].timestamp ;\n              if (!isNaN(timestamp)) {\n              const date = new Date(timestamp);\n              return date.toLocaleString(); // Customize date format if needed\n              }\n\n              return '';\n            },\n          },\n        },\n      },\n\n\n\n       layout: {\n        padding: {\n          left: 50, // Adjust the padding as needed\n          right: 50,\n          top: 20,\n          bottom: 20,\n          \n        },\n      \n      },\n      responsive: true,\n      maintainAspectRatio: true,\n      aspectRatio: 3, // Adjust aspect ratio as needed\n\n     },\n\n\n\n \n      });\n\n      chartContainer.current.width = 100; // Adjust width as needed\n      chartContainer.current.height = 100; // Adjust height as needed\n    }\n  }, [data]);\n\n  return <canvas ref={chartContainer} />;\n};\n\nexport default BarChart;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}