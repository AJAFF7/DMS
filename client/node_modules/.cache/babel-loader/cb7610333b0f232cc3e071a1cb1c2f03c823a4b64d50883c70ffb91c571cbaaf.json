{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const DeleteAccount=()=>{const[userId,setUserId]=useState('');const[message,setMessage]=useState('');const navigate=useNavigate();useEffect(()=>{const storedUserId=window.localStorage.getItem('userID');if(storedUserId!==null){setUserId(storedUserId);}},[]);const handleDeleteUser=async()=>{const confirmed=window.confirm(\"Are you sure you want to delete your account?\");if(confirmed){try{const response=await axios.delete(\"/auth/p1-auths/\".concat(userId));if(response.data.message){setMessage(response.data.message);window.localStorage.removeItem('userID');localStorage.clear();navigate('/');}}catch(error){setMessage(\"Error: \".concat(error.response?error.response.data.message:error.message));}}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"buttons-delete\",onClick:handleDeleteUser,children:\"Delete account\"}),message&&/*#__PURE__*/_jsx(\"p\",{children:message})]});};export default DeleteAccount;// import React, { useState } from 'react';\n// import axios from 'axios';\n// const DeleteAccount = () => {\n//   const [userId, setUserId] = useState('');\n//   const [message, setMessage] = useState('');\n//   const handleDeleteUser = async () => {\n//     try {\n//       const response = await axios.delete(`/auth/p1-auths/${userId}`);\n//       if (response.data.message) {\n//         setMessage(response.data.message);\n//       }\n//     } catch (error) {\n//       setMessage(`Error: ${error.response ? error.response.data.message : error.message}`);\n//     }\n//   };\n//   return (\n//     <div>\n//       <h2>Delete User by ID</h2>\n//       <label>\n//         User ID:\n//         <input type=\"text\" value={userId} onChange={(e) => setUserId(e.target.value)} />\n//       </label>\n//       <button onClick={handleDeleteUser}>Delete User</button>\n//       {message && <p>{message}</p>}\n//     </div>\n//   );\n// };\n// export default DeleteAccount;","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","DeleteAccount","userId","setUserId","message","setMessage","navigate","storedUserId","window","localStorage","getItem","handleDeleteUser","confirmed","confirm","response","delete","concat","data","removeItem","clear","error","children","className","onClick"],"sources":["/home/ubuntu/Environments/DMS/client/src/Personal-1/deleteaccount.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\n\nconst DeleteAccount = () => {\n  const [userId, setUserId] = useState('');\n  const [message, setMessage] = useState('');\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const storedUserId = window.localStorage.getItem('userID');\n    if (storedUserId !== null) {\n      setUserId(storedUserId);\n    }\n  }, []);\n\n  const handleDeleteUser = async () => {\n    const confirmed = window.confirm(\"Are you sure you want to delete your account?\");\n    \n    if (confirmed) {\n      try {\n        const response = await axios.delete(`/auth/p1-auths/${userId}`);\n        \n        if (response.data.message) {\n          setMessage(response.data.message);\n\n          window.localStorage.removeItem('userID');\n          localStorage.clear();\n          navigate('/');\n        }\n      } catch (error) {\n        setMessage(`Error: ${error.response ? error.response.data.message : error.message}`);\n      }\n    }\n  };\n\n  return (\n    <div>\n      <button className='buttons-delete' onClick={handleDeleteUser}>\n        Delete account\n      </button>\n      {message && <p>{message}</p>}\n    </div>\n  );\n};\n\nexport default DeleteAccount;\n\n\n\n\n\n\n\n\n\n\n\n// import React, { useState } from 'react';\n// import axios from 'axios';\n\n// const DeleteAccount = () => {\n//   const [userId, setUserId] = useState('');\n//   const [message, setMessage] = useState('');\n\n//   const handleDeleteUser = async () => {\n//     try {\n//       const response = await axios.delete(`/auth/p1-auths/${userId}`);\n      \n//       if (response.data.message) {\n//         setMessage(response.data.message);\n//       }\n//     } catch (error) {\n//       setMessage(`Error: ${error.response ? error.response.data.message : error.message}`);\n//     }\n//   };\n\n//   return (\n//     <div>\n//       <h2>Delete User by ID</h2>\n//       <label>\n//         User ID:\n//         <input type=\"text\" value={userId} onChange={(e) => setUserId(e.target.value)} />\n//       </label>\n//       <button onClick={handleDeleteUser}>Delete User</button>\n//       {message && <p>{message}</p>}\n//     </div>\n//   );\n// };\n\n// export default DeleteAccount;\n\n\n\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE/C,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACW,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAAAa,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAE9BF,SAAS,CAAC,IAAM,CACd,KAAM,CAAAa,YAAY,CAAGC,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CAC1D,GAAIH,YAAY,GAAK,IAAI,CAAE,CACzBJ,SAAS,CAACI,YAAY,CAAC,CACzB,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAI,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACnC,KAAM,CAAAC,SAAS,CAAGJ,MAAM,CAACK,OAAO,CAAC,+CAA+C,CAAC,CAEjF,GAAID,SAAS,CAAE,CACb,GAAI,CACF,KAAM,CAAAE,QAAQ,CAAG,KAAM,CAAAnB,KAAK,CAACoB,MAAM,mBAAAC,MAAA,CAAmBd,MAAM,CAAE,CAAC,CAE/D,GAAIY,QAAQ,CAACG,IAAI,CAACb,OAAO,CAAE,CACzBC,UAAU,CAACS,QAAQ,CAACG,IAAI,CAACb,OAAO,CAAC,CAEjCI,MAAM,CAACC,YAAY,CAACS,UAAU,CAAC,QAAQ,CAAC,CACxCT,YAAY,CAACU,KAAK,CAAC,CAAC,CACpBb,QAAQ,CAAC,GAAG,CAAC,CACf,CACF,CAAE,MAAOc,KAAK,CAAE,CACdf,UAAU,WAAAW,MAAA,CAAWI,KAAK,CAACN,QAAQ,CAAGM,KAAK,CAACN,QAAQ,CAACG,IAAI,CAACb,OAAO,CAAGgB,KAAK,CAAChB,OAAO,CAAE,CAAC,CACtF,CACF,CACF,CAAC,CAED,mBACEJ,KAAA,QAAAqB,QAAA,eACEvB,IAAA,WAAQwB,SAAS,CAAC,gBAAgB,CAACC,OAAO,CAAEZ,gBAAiB,CAAAU,QAAA,CAAC,gBAE9D,CAAQ,CAAC,CACRjB,OAAO,eAAIN,IAAA,MAAAuB,QAAA,CAAIjB,OAAO,CAAI,CAAC,EACzB,CAAC,CAEV,CAAC,CAED,cAAe,CAAAH,aAAa,CAY5B;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}