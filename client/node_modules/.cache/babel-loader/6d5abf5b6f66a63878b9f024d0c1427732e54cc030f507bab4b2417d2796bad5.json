{"ast":null,"code":"import React,{useEffect,useRef}from'react';import Chart from'chart.js/auto';import{jsx as _jsx}from\"react/jsx-runtime\";const BarChartsub=_ref=>{let{data}=_ref;const chartContainer=useRef(null);const chartInstance=useRef(null);useEffect(()=>{if(chartInstance.current){chartInstance.current.destroy();// Destroy the existing chart instance\n}if(data&&data.length>0){const ctx=chartContainer.current.getContext('2d');chartInstance.current=new Chart(ctx,{type:'doughnut',//doughnut\ndata:{labels:data.map(item=>item.pername),// Assuming pername is the label\ndatasets:[{label:'Quantity',data:data.map(item=>item.quantity),// Assuming quantity is the data point\nbackgroundColor:\"orangered\",//'rgba(355, 138, 0, 0.8)',\nborderColor:'black',//rgba(75, 192, 192, 1)\nborderWidth:1},{label:'Price',data:data.map(item=>item.price),// Assuming price is the data point\nbackgroundColor:'rgba(192, 75, 192, 0.2)',borderColor:'black',//rgba(192, 75, 192, 1)\nborderWidth:1},{label:'Dameg',data:data.map(item=>item.dameg),// Assuming dameg is the data point\nbackgroundColor:'#870613',borderColor:'black',//rgba(192, 192, 75, 1)\nborderWidth:1}]},options:{scales:{y:{beginAtZero:true},x:{ticks:{callback:function(value,index,values){const timestamp=data[index].timestamp;if(!isNaN(timestamp)){const date=new Date(timestamp);return date.toLocaleString();// Customize date format if needed\n}return'';}}}},layout:{padding:{left:10,// Adjust the padding as needed\nright:10,top:20,bottom:20}},responsive:true,maintainAspectRatio:true,aspectRatio:4.5// Adjust aspect ratio as needed\n}});chartContainer.current.width=100;// Adjust width as needed\nchartContainer.current.height=100;// Adjust height as needed\n}},[data]);return/*#__PURE__*/_jsx(\"canvas\",{ref:chartContainer});};export default BarChartsub;","map":{"version":3,"names":["React","useEffect","useRef","Chart","jsx","_jsx","BarChartsub","_ref","data","chartContainer","chartInstance","current","destroy","length","ctx","getContext","type","labels","map","item","pername","datasets","label","quantity","backgroundColor","borderColor","borderWidth","price","dameg","options","scales","y","beginAtZero","x","ticks","callback","value","index","values","timestamp","isNaN","date","Date","toLocaleString","layout","padding","left","right","top","bottom","responsive","maintainAspectRatio","aspectRatio","width","height","ref"],"sources":["/home/ubuntu/Environments/DMS/client/src/Personal-1/BarChart-sub.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport Chart from 'chart.js/auto'; \n\n\n    const BarChartsub = ({ data }) => {\n      const chartContainer = useRef(null);\n      const chartInstance = useRef(null);\n      useEffect(() => {\n        if (chartInstance.current) {\n          chartInstance.current.destroy(); // Destroy the existing chart instance\n        }\n\n \n    if (data && data.length > 0) {\n      const ctx = chartContainer.current.getContext('2d');\n      chartInstance.current =new Chart(ctx, {\n        type: 'doughnut', //doughnut\n        data: {\n            labels: data.map((item) => item.pername), // Assuming pername is the label\n            datasets: [\n              {\n                label: 'Quantity',\n                data: data.map((item) => item.quantity), // Assuming quantity is the data point\n                backgroundColor: \"orangered\" ,  //'rgba(355, 138, 0, 0.8)',\n                borderColor: 'black',  //rgba(75, 192, 192, 1)\n                borderWidth: 1,\n  \n              },\n       \n              {\n                label: 'Price',\n                data: data.map((item) => item.price), // Assuming price is the data point\n                backgroundColor: 'rgba(192, 75, 192, 0.2)',\n                borderColor: 'black', //rgba(192, 75, 192, 1)\n                borderWidth: 1,\n              },\n         \n              {\n                label: 'Dameg',\n                data: data.map((item) => item.dameg), // Assuming dameg is the data point\n                backgroundColor: '#870613',\n                borderColor: 'black',  //rgba(192, 192, 75, 1)\n                borderWidth: 1,\n              },\n              \n            ],\n            \n          },\n        options: {\n    \n\n       \n\n      scales: {\n        y: {\n            beginAtZero: true,\n        },\n        x: {\n          ticks: {\n            callback: function (value, index, values) {\n              const timestamp = data[index].timestamp ;\n              if (!isNaN(timestamp)) {\n              const date = new Date(timestamp);\n              return date.toLocaleString(); // Customize date format if needed\n              }\n\n              return '';\n            },\n          },\n        },\n      },\n\n\n\n       layout: {\n        padding: {\n          left: 10, // Adjust the padding as needed\n          right: 10,\n          top: 20,\n          bottom: 20,\n        },\n      \n      },\n      responsive: true,\n      maintainAspectRatio: true,\n      aspectRatio: 4.5, // Adjust aspect ratio as needed\n     \n\n   \n\n     },\n\n    \n\n\n      });\n\n      chartContainer.current.width = 100; // Adjust width as needed\n      chartContainer.current.height = 100; // Adjust height as needed\n    }\n  }, [data]);\n\n  return <canvas ref={chartContainer} />;\n};\n\nexport default BarChartsub;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}