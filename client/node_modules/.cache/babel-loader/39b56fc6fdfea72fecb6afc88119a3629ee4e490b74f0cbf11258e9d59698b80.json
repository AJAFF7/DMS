{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const DeletePersonal=()=>{const[personalData,setPersonalData]=useState([]);const[deleteId,setDeleteId]=useState('');const[error,setError]=useState(null);// Function to fetch personal data\nconst fetchPersonalData=async()=>{try{const response=await axios.get('/auth/personal1');// Adjust the endpoint as needed\nsetPersonalData(response.data.data);}catch(err){setError(err.message);}};// Function to delete a personal data item\nconst deletePersonalItem=async()=>{try{await axios.delete(\"/auth/personal1/\".concat(deleteId));// Adjust the endpoint as needed\nfetchPersonalData();// Refresh the data after deletion\nsetDeleteId('');// Clear the input field after deletion\n}catch(err){setError(err.message);}};useEffect(()=>{fetchPersonalData();},[]);// Fetch data on component mount\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Delete Data\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{className:\"delete-input\",type:\"text\",id:\"deleteId\",value:deleteId,onChange:e=>setDeleteId(e.target.value)}),\" \",/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"delete\",onClick:deletePersonalItem,children:\"Delete by ID\"})]})]});};export default DeletePersonal;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","DeletePersonal","personalData","setPersonalData","deleteId","setDeleteId","error","setError","fetchPersonalData","response","get","data","err","message","deletePersonalItem","delete","concat","children","className","type","id","value","onChange","e","target","onClick"],"sources":["/home/ubuntu/Environments/DMS/client/src/Personal-1/delettions.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst DeletePersonal = () => {\n  const [personalData, setPersonalData] = useState([]);\n  const [deleteId, setDeleteId] = useState('');\n  const [error, setError] = useState(null);\n\n  // Function to fetch personal data\n  const fetchPersonalData = async () => {\n    try {\n      const response = await axios.get('/auth/personal1'); // Adjust the endpoint as needed\n      setPersonalData(response.data.data);\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  // Function to delete a personal data item\n  const deletePersonalItem = async () => {\n    try {\n      await axios.delete(`/auth/personal1/${deleteId}`); // Adjust the endpoint as needed\n      fetchPersonalData(); // Refresh the data after deletion\n      setDeleteId(''); // Clear the input field after deletion\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  useEffect(() => {\n    fetchPersonalData();\n  }, []); // Fetch data on component mount\n\n  return (\n    <div>\n      <h2>Delete Data</h2>\n      {/* {error && <p>Error: {error}</p>}\n      <ul>\n        {personalData.map((item) => (\n          <li key={item._id}>\n            {item.pername} - {item.quantity} - {item.price} - {item.dameg}\n            <button onClick={() => deletePersonalItem(item._id)}>Delete</button>\n          </li>\n        ))}\n      </ul> */}\n      <div>\n      {/* <label htmlFor=\"deleteId\">ID:</label> */}\n        <input className='delete-input'\n          type=\"text\"\n          id=\"deleteId\"\n          value={deleteId}\n          onChange={(e) => setDeleteId(e.target.value)}\n        /> <span />\n        <button className='delete' onClick={deletePersonalItem}>Delete by ID</button>\n      </div>\n    </div>\n  );\n};\n\nexport default DeletePersonal;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACU,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACY,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAExC;AACA,KAAM,CAAAc,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CACpC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAb,KAAK,CAACc,GAAG,CAAC,iBAAiB,CAAC,CAAE;AACrDP,eAAe,CAACM,QAAQ,CAACE,IAAI,CAACA,IAAI,CAAC,CACrC,CAAE,MAAOC,GAAG,CAAE,CACZL,QAAQ,CAACK,GAAG,CAACC,OAAO,CAAC,CACvB,CACF,CAAC,CAED;AACA,KAAM,CAAAC,kBAAkB,CAAG,KAAAA,CAAA,GAAY,CACrC,GAAI,CACF,KAAM,CAAAlB,KAAK,CAACmB,MAAM,oBAAAC,MAAA,CAAoBZ,QAAQ,CAAE,CAAC,CAAE;AACnDI,iBAAiB,CAAC,CAAC,CAAE;AACrBH,WAAW,CAAC,EAAE,CAAC,CAAE;AACnB,CAAE,MAAOO,GAAG,CAAE,CACZL,QAAQ,CAACK,GAAG,CAACC,OAAO,CAAC,CACvB,CACF,CAAC,CAEDlB,SAAS,CAAC,IAAM,CACda,iBAAiB,CAAC,CAAC,CACrB,CAAC,CAAE,EAAE,CAAC,CAAE;AAER,mBACER,KAAA,QAAAiB,QAAA,eACEnB,IAAA,OAAAmB,QAAA,CAAI,aAAW,CAAI,CAAC,cAUpBjB,KAAA,QAAAiB,QAAA,eAEEnB,IAAA,UAAOoB,SAAS,CAAC,cAAc,CAC7BC,IAAI,CAAC,MAAM,CACXC,EAAE,CAAC,UAAU,CACbC,KAAK,CAAEjB,QAAS,CAChBkB,QAAQ,CAAGC,CAAC,EAAKlB,WAAW,CAACkB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC9C,CAAC,IAAC,cAAAvB,IAAA,UAAO,CAAC,cACXA,IAAA,WAAQoB,SAAS,CAAC,QAAQ,CAACO,OAAO,CAAEX,kBAAmB,CAAAG,QAAA,CAAC,cAAY,CAAQ,CAAC,EAC1E,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAhB,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}