{"ast":null,"code":"var _jsxFileName = \"/Users/macbookair/Desktop/All/DMS/client/src/Personal-1/Home1.js\",\n  _s = $RefreshSig$();\n// import { useEffect, useState } from \"react\";\n// import { useNavigate } from \"react-router-dom\";\n// import TP1 from \"./TP1\";\n// import { Link } from \"react-router-dom\";\n// // import Header from '../Header';\n// // import Personal_1_register from './Personal-1-register'\n// import Personal_1_logout from \"./Personal-1-logout\";\n// // import Textlogin from './Texthome-1'\n// // import Clock from './Clock'\n// import BarChart from \"./BarChart\";\n// import Alertp1 from \"./Alert-p1\";\n// import Clock from \"./Clock\";\n// import DeleteAccount from \"./deleteaccount\";\n\n// function Home1() {\n//   const navigate = useNavigate();\n\n//   ///for Chart\n\n//   const [data, setData] = useState([]);\n//   const [loading, setLoading] = useState(true); // Define loading state\n\n//   ///\n\n//   useEffect(() => {\n//     if (!localStorage.getItem(\"userID\")) {\n//       navigate(\"/\");\n//     }\n//   }, []);\n\n//   ///for chart\n\n//   useEffect(() => {\n//     fetch(\"/auth/personal1\", {\n//       method: \"GET\",\n//     })\n//       .then((res) => res.json())\n//       .then((responseData) => {\n//         console.log(responseData, \"userData\");\n//         setData(responseData.data); // Assuming 'data' is the array you want to display\n//         setLoading(false); // Set loading to false once data is fetched\n//       })\n//       .catch((error) => {\n//         console.error(\"Error fetching data:\", error);\n//       });\n//   }, []);\n\n//   ///\n\n//   const goTo = () => {\n//     navigate(\"/dfp1\"); // This function takes you back to the previous page in the history stack\n//   };\n\n//   // const goToDelete = () => {\n//   //   navigate('/handleDeleteUser'); // This function takes you back to the previous page in the history stack\n//   // };\n\n//   const Logout = () => {\n//     window.localStorage.removeItem(\"userID\");\n\n//     localStorage.clear();\n//     navigate(\"/\");\n//   };\n\n//   return (\n//     <div className=\"all-home\">\n//       {/* <Texthome_1 /> */}\n\n//       <div className=\"allbuttons\">\n//         <button className=\"buttons\" onClick={() => Logout()}>\n//           LogOut\n//         </button>\n//         <button className=\"buttons\" onClick={goTo}>\n//           {\" \"}\n//           Data{\" \"}\n//         </button>\n//         {/* <button  className='buttons' onClick={goToDelete}> Delete</button> */}\n//         <DeleteAccount />\n\n//         <Clock />\n//         <TP1 />\n//       </div>\n\n//       {/* <Calendar /> */}\n\n//       <Alertp1 />\n\n//       <BarChart data={data} />\n//     </div>\n//   );\n// }\n\n// export default Home1;\n\nimport { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport TP1 from \"./TP1\";\nimport Personal_1_logout from \"./Personal-1-logout\";\nimport Alertp1 from \"./Alert-p1\";\nimport Clock from \"./Clock\";\nimport BarChart from \"./BarChart\";\nimport DeleteAccount from \"./deleteaccount\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Home1() {\n  _s();\n  const navigate = useNavigate();\n  const [loggedIn, setLoggedIn] = useState(false); // State to manage login status\n  const [username, setUsername] = useState(\"\"); // State to store the username\n\n  // Function to fetch the username from the API\n  const fetchUsername = async () => {\n    try {\n      const userID = localStorage.getItem(\"userID\");\n      const response = await axios.get(`/auth/get-username/${userID}`);\n      setUsername(response.data.username);\n    } catch (error) {\n      console.error(\"Error fetching username:\", error);\n    }\n  };\n\n  // Check if user is logged in on component mount\n  useEffect(() => {\n    const userID = localStorage.getItem(\"userID\");\n    if (userID) {\n      setLoggedIn(true);\n      fetchUsername(); // Fetch the username if the user is logged in\n    } else {\n      navigate(\"/\");\n    }\n  }, []);\n  const Logout = () => {\n    window.localStorage.removeItem(\"userID\");\n    window.localStorage.removeItem(\"username\"); // Remove username from localStorage\n    setLoggedIn(false);\n    navigate(\"/\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"all-home\",\n    children: [loggedIn ? /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: [\"Welcome, \", username, \"!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }, this) // Render welcome message with username if logged in\n    : /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => navigate(\"/login\"),\n      children: \"Log in\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"allbuttons\",\n      children: [loggedIn && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"buttons\",\n        onClick: Logout,\n        children: \"Log Out\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"buttons\",\n        onClick: () => navigate(\"/dfp1\"),\n        children: \"Data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DeleteAccount, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Clock, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TP1, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Alertp1, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BarChart, {\n      data: []\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 141,\n    columnNumber: 5\n  }, this);\n}\n_s(Home1, \"cTffl23H/kbZme59IXwC+v6Nh2Q=\", false, function () {\n  return [useNavigate];\n});\n_c = Home1;\nexport default Home1;\nvar _c;\n$RefreshReg$(_c, \"Home1\");","map":{"version":3,"names":["useEffect","useState","useNavigate","TP1","Personal_1_logout","Alertp1","Clock","BarChart","DeleteAccount","axios","jsxDEV","_jsxDEV","Home1","_s","navigate","loggedIn","setLoggedIn","username","setUsername","fetchUsername","userID","localStorage","getItem","response","get","data","error","console","Logout","window","removeItem","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["/Users/macbookair/Desktop/All/DMS/client/src/Personal-1/Home1.js"],"sourcesContent":["// import { useEffect, useState } from \"react\";\n// import { useNavigate } from \"react-router-dom\";\n// import TP1 from \"./TP1\";\n// import { Link } from \"react-router-dom\";\n// // import Header from '../Header';\n// // import Personal_1_register from './Personal-1-register'\n// import Personal_1_logout from \"./Personal-1-logout\";\n// // import Textlogin from './Texthome-1'\n// // import Clock from './Clock'\n// import BarChart from \"./BarChart\";\n// import Alertp1 from \"./Alert-p1\";\n// import Clock from \"./Clock\";\n// import DeleteAccount from \"./deleteaccount\";\n\n// function Home1() {\n//   const navigate = useNavigate();\n\n//   ///for Chart\n\n//   const [data, setData] = useState([]);\n//   const [loading, setLoading] = useState(true); // Define loading state\n\n//   ///\n\n//   useEffect(() => {\n//     if (!localStorage.getItem(\"userID\")) {\n//       navigate(\"/\");\n//     }\n//   }, []);\n\n//   ///for chart\n\n//   useEffect(() => {\n//     fetch(\"/auth/personal1\", {\n//       method: \"GET\",\n//     })\n//       .then((res) => res.json())\n//       .then((responseData) => {\n//         console.log(responseData, \"userData\");\n//         setData(responseData.data); // Assuming 'data' is the array you want to display\n//         setLoading(false); // Set loading to false once data is fetched\n//       })\n//       .catch((error) => {\n//         console.error(\"Error fetching data:\", error);\n//       });\n//   }, []);\n\n//   ///\n\n//   const goTo = () => {\n//     navigate(\"/dfp1\"); // This function takes you back to the previous page in the history stack\n//   };\n\n//   // const goToDelete = () => {\n//   //   navigate('/handleDeleteUser'); // This function takes you back to the previous page in the history stack\n//   // };\n\n//   const Logout = () => {\n//     window.localStorage.removeItem(\"userID\");\n\n//     localStorage.clear();\n//     navigate(\"/\");\n//   };\n\n//   return (\n//     <div className=\"all-home\">\n//       {/* <Texthome_1 /> */}\n\n//       <div className=\"allbuttons\">\n//         <button className=\"buttons\" onClick={() => Logout()}>\n//           LogOut\n//         </button>\n//         <button className=\"buttons\" onClick={goTo}>\n//           {\" \"}\n//           Data{\" \"}\n//         </button>\n//         {/* <button  className='buttons' onClick={goToDelete}> Delete</button> */}\n//         <DeleteAccount />\n\n//         <Clock />\n//         <TP1 />\n//       </div>\n\n//       {/* <Calendar /> */}\n\n//       <Alertp1 />\n\n//       <BarChart data={data} />\n//     </div>\n//   );\n// }\n\n// export default Home1;\n\nimport { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport TP1 from \"./TP1\";\nimport Personal_1_logout from \"./Personal-1-logout\";\nimport Alertp1 from \"./Alert-p1\";\nimport Clock from \"./Clock\";\nimport BarChart from \"./BarChart\";\nimport DeleteAccount from \"./deleteaccount\";\nimport axios from \"axios\";\n\nfunction Home1() {\n  const navigate = useNavigate();\n\n  const [loggedIn, setLoggedIn] = useState(false); // State to manage login status\n  const [username, setUsername] = useState(\"\"); // State to store the username\n\n  // Function to fetch the username from the API\n  const fetchUsername = async () => {\n    try {\n      const userID = localStorage.getItem(\"userID\");\n      const response = await axios.get(`/auth/get-username/${userID}`);\n      setUsername(response.data.username);\n    } catch (error) {\n      console.error(\"Error fetching username:\", error);\n    }\n  };\n\n  // Check if user is logged in on component mount\n  useEffect(() => {\n    const userID = localStorage.getItem(\"userID\");\n    if (userID) {\n      setLoggedIn(true);\n      fetchUsername(); // Fetch the username if the user is logged in\n    } else {\n      navigate(\"/\");\n    }\n  }, []);\n\n  const Logout = () => {\n    window.localStorage.removeItem(\"userID\");\n    window.localStorage.removeItem(\"username\"); // Remove username from localStorage\n    setLoggedIn(false);\n    navigate(\"/\");\n  };\n\n  return (\n    <div className=\"all-home\">\n      {loggedIn ? (\n        <h4>Welcome, {username}!</h4> // Render welcome message with username if logged in\n      ) : (\n        <button onClick={() => navigate(\"/login\")}>Log in</button>\n      )}\n\n      <div className=\"allbuttons\">\n        {loggedIn && (\n          <button className=\"buttons\" onClick={Logout}>\n            Log Out\n          </button>\n        )}\n        <button className=\"buttons\" onClick={() => navigate(\"/dfp1\")}>\n          Data\n        </button>\n        <DeleteAccount />\n        <Clock />\n        <TP1 />\n      </div>\n\n      <Alertp1 />\n\n      <BarChart data={[]} />\n    </div>\n  );\n}\n\nexport default Home1;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}